<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wegreen | Casaco Verde Pist√°cio</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="src/css/style.css">

  <style>
    .top-bar {
  margin-bottom: -4px; /* elimina qualquer espa√ßo entre top bar e navbar */
  z-index: 4;
  position: relative;
}

    .bg-wegreen-accent { background-color: #adff2f !important; }
    .btn-wegreen-accent { background-color: #adff2f; color: #1a1a1a; font-weight: 600; }
    .btn-wegreen-accent:hover { background-color: #9ee62f; color: #000; }

    #cartCount {
      font-size: 0.7rem;
      padding: 0.25rem 0.45rem;
      display: none;
    }

    #checkoutModal .modal-content {
      border: none;
      box-shadow: 0 4px 25px rgba(0,0,0,0.25);
    }

    #checkoutModal img {
      border-radius: 10px;
      border: 2px solid #adff2f;
    }

    #checkoutModal button.btn-outline-danger {
      border: none;
      color: #ff4d4d;
    }
    #checkoutModal button.btn-outline-danger:hover {
      background-color: #ff4d4d;
      color: #fff;
    }

    .reviews-section h4 {
  color: #414429;
  font-weight: 700;
}

.review-item {
  background: #fff;
  border-radius: 12px;
  padding: 1.25rem;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.review-item:hover {
  transform: translateY(-3px);
  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.08);
}

  </style>
</head>
  <!-- üß≠ Navbar -->
<header class="header-main bg-dark text-white position-fixed top-0 start-0 w-100 z-3 shadow-sm">
  <div class="container-fluid px-5">
    <nav class="navbar navbar-expand-lg navbar-dark py-3">
      
      <!-- üåø LOGO -->
      <a class="navbar-brand me-4" href="index.html">
        <img src="src/img/WeGreen-removebg-preview.png" alt="Wegreen Logo" class="logo-img" style="height: 55px;">
      </a>
      
      <!-- Toggle Mobile -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
              aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- üß≠ Links de Navega√ß√£o -->
      <div class="collapse navbar-collapse justify-content-start" id="navbarNav">
        <ul class="navbar-nav mb-2 mb-lg-0">
          
          <!-- Mulher -->
          <li class="nav-item dropdown mx-2">
            <a class="nav-link dropdown-toggle text-white fw-bold" href="#" role="button" data-bs-toggle="dropdown">Mulher</a>
            <ul class="dropdown-menu dropdown-menu-dark rounded-3">
              <li><a class="dropdown-item" href="#">Ver Tudo</a></li>
              <li><a class="dropdown-item" href="#">Vestidos</a></li>
              <li><a class="dropdown-item" href="#">Tops e T-shirts</a></li>
              <li><a class="dropdown-item" href="#">Cal√ßas</a></li>
              <li><a class="dropdown-item" href="#">Acess√≥rios</a></li>
            </ul>
          </li>

          <!-- Homem -->
          <li class="nav-item dropdown mx-2">
            <a class="nav-link dropdown-toggle text-white fw-bold" href="#" role="button" data-bs-toggle="dropdown">Homem</a>
            <ul class="dropdown-menu dropdown-menu-dark rounded-3">
              <li><a class="dropdown-item" href="#">Ver Tudo</a></li>
              <li><a class="dropdown-item" href="#">Blusas</a></li>
              <li><a class="dropdown-item" href="#">Cal√ßas</a></li>
              <li><a class="dropdown-item" href="#">Cal√ßado</a></li>
            </ul>
          </li>

          <!-- Crian√ßas -->
          <li class="nav-item dropdown mx-2">
            <a class="nav-link dropdown-toggle text-white fw-bold" href="#" role="button" data-bs-toggle="dropdown">Crian√ßas</a>
            <ul class="dropdown-menu dropdown-menu-dark rounded-3">
              <li><a class="dropdown-item" href="#">Ver Tudo</a></li>
              <li><a class="dropdown-item" href="#">Blusas</a></li>
              <li><a class="dropdown-item" href="#">Casacos</a></li>
              <li><a class="dropdown-item" href="#">T-shirts</a></li>
              <li><a class="dropdown-item" href="#">Cal√ßas</a></li>
              <li><a class="dropdown-item" href="#">Vestidos</a></li>
              <li><a class="dropdown-item" href="#">Cal√ßado</a></li>
            </ul>
          </li>

          <!-- Designers / Artes√£os -->
          <li class="nav-item"><a class="nav-link text-white mx-2 fw-bold" href="#">Designers</a></li>
          <li class="nav-item"><a class="nav-link text-white mx-2 fw-bold" href="#">Artes√£os</a></li>

          <!-- Marcas -->
          <li class="nav-item dropdown mx-2">
            <a class="nav-link dropdown-toggle text-white fw-bold" href="#" role="button" data-bs-toggle="dropdown">Marcas</a>
            <ul class="dropdown-menu dropdown-menu-dark rounded-3">
              <li><a class="dropdown-item" href="#">Naz</a></li>
              <li><a class="dropdown-item" href="#">Nea Vegan Shoes</a></li>
              <li><a class="dropdown-item" href="#">PlayUp¬Æ</a></li>
              <li><a class="dropdown-item" href="#">Vintage for a Cause</a></li>
              <li><a class="dropdown-item" href="#">Isto¬Æ</a></li>
            </ul>
          </li>
        </ul>
      </div>

      <!-- üîç Pesquisa, Carrinho e Perfil -->
      <div class="d-flex align-items-center ms-auto">

        <!-- üîé Barra de Pesquisa -->
        <form class="d-flex search-bar me-3" role="search">
          <input class="form-control rounded-pill me-2 border-0 bg-secondary bg-opacity-25 text-white" 
                 type="search" placeholder="Pesquisar..." aria-label="Pesquisar">
          <button class="btn btn-outline-light rounded-pill" type="submit">
            <i class="bi bi-search"></i>
          </button>
        </form>

        <!-- üõç Carrinho -->
        <a class="nav-link text-white mx-2 fs-5 position-relative" href="#" id="cartButton" data-bs-toggle="modal" data-bs-target="#checkoutModal">
          <i class="bi bi-bag"></i>
          <span id="cartCount" class="badge bg-wegreen-accent text-dark position-absolute top-0 start-100 translate-middle rounded-pill">0</span>
        </a>

        <!-- üîê Login / Registo -->
        <button class="btn btn-wegreen-login me-2 rounded-pill d-none d-lg-block text-dark bg-wegreen-accent fw-bold" 
                type="button" data-bs-toggle="modal" data-bs-target="#loginModal">
          Login
        </button>
        <button class="btn btn-outline-light me-3 rounded-pill d-none d-lg-block fw-bold" 
                type="button" data-bs-toggle="modal" data-bs-target="#registerModal">
          Registar
        </button>

        <!-- üë§ Perfil do Utilizador -->
        <div class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
            <img src="src/img/pexels-beccacorreiaph-31095884.jpg" class="rounded-circle profile-img-small me-1" 
                 alt="Perfil do Utilizador" style="width: 38px; height: 38px; object-fit: cover;">
          </a>
          <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end rounded-3">
            <li><div class="dropdown-header d-flex align-items-center">
              <h6 class="mb-0 text-wegreen-accent">Ol√°, Mariana!</h6>
            </div></li>
            <li><a class="dropdown-item" href="#">Defini√ß√µes de Perfil</a></li>
            <li><a class="dropdown-item" href="#">Login Admin</a></li>
            <li><a class="dropdown-item" href="#">Mudar de Conta</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="#">Sair</a></li>
          </ul>
        </div>
      </div>
      </div>
    </nav>
  </div>
</header>

<br>
  <!-- üåø Produto -->
  <main class="py-5 mt-4">
  <div class="container">
    <div class="row align-items-start g-5">
      
      <!-- üì∏ FOTO -->
      <div class="col-md-6 text-center">
        <img src="src/img/claudia-alpaca-pistachio-jumpernaz-6377511.webp" class="img-fluid rounded-4 shadow-sm" alt="Casaco Verde Pist√°cio">
      </div>

      <!-- üßµ DETALHES -->
      <div class="col-md-6">
        <div class="d-flex align-items-center mb-3">
          <img src="src/img/Logo_naz.webp" alt="Naz" class="me-3 rounded-circle" width="50">
          <div>
            <h5 class="mb-0 fw-bold">Naz</h5>
            <small class="text-muted">Marca Sustent√°vel</small>
          </div>
        </div>

        <h2 class="fw-bold">Casaco Verde Pist√°cio</h2>
        <p class="text-muted fs-5">‚Ç¨139,90</p>

        <p>Casaco em l√£ de alpaca produzido de forma √©tica em Portugal.  
        Pe√ßa leve, macia e biodegrad√°vel ‚Äî ideal para dias frios com estilo consciente.</p>

        <p><strong>Composi√ß√£o:</strong> 80% Alpaca, 20% L√£ Org√¢nica</p>
        <p><strong>Estado:</strong> Novo</p>

        <p><strong>Tamanho:</strong>
          <select id="tamanhoSelect" class="form-select w-auto d-inline-block">
            <option>S</option>
            <option>M</option>
            <option>L</option>
          </select>
        </p>

        <button id="btnAddCarrinho" class="btn btn-wegreen-accent rounded-pill text-white mt-3"
          data-produto="Casaco Verde Pist√°cio"
          data-preco="139.90"
          data-imagem="src/img/claudia-alpaca-pistachio-jumpernaz-6377511.webp">
          Adicionar ao Carrinho
        </button>

        <!-- ‚≠ê AVALIA√á√ÉO GLOBAL -->
        <div class="rating-summary mt-5 mb-4 p-3 bg-light rounded-4 border">
          <h4 class="fw-bold mb-2">Avalia√ß√£o Global</h4>
          <div class="d-flex align-items-center">
            <div class="text-warning fs-4 me-2">
              <i class="bi bi-star-fill"></i>
              <i class="bi bi-star-fill"></i>
              <i class="bi bi-star-fill"></i>
              <i class="bi bi-star-fill"></i>
              <i class="bi bi-star-half"></i>
            </div>
            <span class="fw-bold fs-5">4.7/5</span>
          </div>
          <p class="text-muted mb-0">Com base em <strong>53 avalia√ß√µes verificadas</strong></p>
        </div>

        <!-- üó£Ô∏è CR√çTICAS DOS CLIENTES -->
        <div class="reviews-section">
          <h4 class="fw-bold mb-4">Cr√≠ticas dos Clientes</h4>

          <!-- Cr√≠tica 1 -->
          <div class="review-item border-bottom pb-4 mb-4">
            <div class="d-flex align-items-center mb-3">
              <img src="src/img/pexels-brynna-spencer-63356-227294.jpg" alt="Joana Pinto"
                   class="rounded-circle me-3 shadow-sm" style="width: 55px; height: 55px; object-fit: cover;">
              <div>
                <h6 class="mb-0 fw-bold">Joana Pinto</h6>
                <div class="text-warning small">
                  <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                </div>
                <small class="text-muted">15 de Mar√ßo de 2025</small>
              </div>
            </div>
            <p class="text-muted mb-0">
              Adorei o casaco! √â super confort√°vel e nota-se a qualidade dos materiais.
              O envio foi r√°pido e a embalagem totalmente recicl√°vel üå±
            </p>
          </div>

          <!-- Cr√≠tica 2 -->
          <div class="review-item border-bottom pb-4 mb-4">
            <div class="d-flex align-items-center mb-3">
              <img src="src/img/pexels-olly-762020.jpg" alt="Carolina Mendes"
                   class="rounded-circle me-3 shadow-sm" style="width: 55px; height: 55px; object-fit: cover;">
              <div>
                <h6 class="mb-0 fw-bold">Carolina Mendes</h6>
                <div class="text-warning small">
                  <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star"></i>
                </div>
                <small class="text-muted">2 de Fevereiro de 2025</small>
              </div>
            </div>
            <p class="text-muted mb-0">
              O casaco √© lindo e fiel √†s fotos! S√≥ achei o tamanho um pouco pequeno ‚Äî recomendo escolher um n√∫mero acima.
            </p>
          </div>

          <!-- Cr√≠tica 3 -->
          <div class="review-item border-bottom pb-4 mb-4">
            <div class="d-flex align-items-center mb-3">
              <img src="src/img/pexels-dave-buxton-1918474-3549893.jpg" alt="Rita Moreira"
                   class="rounded-circle me-3 shadow-sm" style="width: 55px; height: 55px; object-fit: cover;">
              <div>
                <h6 class="mb-0 fw-bold">Rita Moreira</h6>
                <div class="text-warning small">
                  <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-half"></i><i class="bi bi-star"></i>
                </div>
                <small class="text-muted">28 de Janeiro de 2025</small>
              </div>
            </div>
            <p class="text-muted mb-0">
              Materiais fant√°sticos e adorei o design minimalista. O atendimento foi muito atencioso, s√≥ demorou um dia extra para chegar.
            </p>
          </div>

          <!-- Cr√≠tica 4 -->
          <div class="review-item border-bottom pb-4 mb-4">
            <div class="d-flex align-items-center mb-3">
              <img src="src/img/pexels-mangaphotography-674685.jpg" alt="In√™s Carvalho"
                   class="rounded-circle me-3 shadow-sm" style="width: 55px; height: 55px; object-fit: cover;">
              <div>
                <h6 class="mb-0 fw-bold">In√™s Carvalho</h6>
                <div class="text-warning small">
                  <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star"></i><i class="bi bi-star"></i>
                </div>
                <small class="text-muted">14 de Janeiro de 2025</small>
              </div>
            </div>
            <p class="text-muted mb-0">
              Boa pe√ßa, mas esperava que fosse ligeiramente mais espessa. Ainda assim, recomendo pela qualidade e pela √©tica da marca üåç
            </p>
          </div>

          <!-- Cr√≠tica 5 -->
          <div class="review-item">
            <div class="d-flex align-items-center mb-3">
              <img src="src/img/pexels-stefanstefancik-91227.jpg" alt="Miguel Faria"
                   class="rounded-circle me-3 shadow-sm" style="width: 55px; height: 55px; object-fit: cover;">
              <div>
                <h6 class="mb-0 fw-bold">Miguel Faria</h6>
                <div class="text-warning small">
                  <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-half"></i>
                </div>
                <small class="text-muted">5 de Janeiro de 2025</small>
              </div>
            </div>
            <p class="text-muted mb-0">
              Excelente compra! A textura √© suave e o corte moderno. Gosto especialmente por ser feito com materiais sustent√°veis üáµüáπ
            </p>
          </div>

          <!-- ‚úçÔ∏è FORMUL√ÅRIO DE NOVA CR√çTICA -->
          <hr class="my-5">
          <h5 class="fw-bold mb-3">Deixa a tua avalia√ß√£o</h5>
          <form id="reviewForm">
            <div class="mb-3">
              <input type="text" id="nome" class="form-control" placeholder="O teu nome" required>
            </div>
            <div class="mb-3">
              <textarea id="comentario" class="form-control" placeholder="Escreve a tua opini√£o..." rows="3" required></textarea>
            </div>

            <div class="mb-3">
              <label class="form-label d-block mb-2">Avalia√ß√£o:</label>
              <div id="ratingStars" class="text-warning fs-4">
                <i class="bi bi-star" data-value="1"></i>
                <i class="bi bi-star" data-value="2"></i>
                <i class="bi bi-star" data-value="3"></i>
                <i class="bi bi-star" data-value="4"></i>
                <i class="bi bi-star" data-value="5"></i>
              </div>
            </div>

            <button type="submit" class="btn btn-wegreen-accent rounded-pill text-dark fw-bold">
              Submeter Avalia√ß√£o
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>

  <!-- üõí Modal do Carrinho -->
  <div class="modal fade" id="checkoutModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content rounded-4">
        <div class="modal-header bg-dark text-white">
          <h5 class="modal-title"><i class="bi bi-bag me-2"></i>O Meu Carrinho</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div id="carrinhoItens" class="mb-3"></div>
          <hr>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <strong>Subtotal</strong>
            <strong>‚Ç¨<span id="carrinhoSubtotal">0.00</span></strong>
          </div>
          <button id="btnFinalizarCompra" class="btn btn-wegreen-accent w-100 rounded-pill text-white fw-bold">
            Finalizar Compra
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-dark text-white text-center py-3 mt-5">
    <p class="mb-0">&copy; 2025 Wegreen ‚Äî D√™ uma nova vida √† moda, de forma consciente.</p>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script>
    const btnAdd = document.getElementById("btnAddCarrinho");
    const cartCountEl = document.getElementById("cartCount");
    const carrinhoItensEl = document.getElementById("carrinhoItens");
    const subtotalEl = document.getElementById("carrinhoSubtotal");

    // === Atualiza contador ===
    function atualizarContador() {
      const carrinho = JSON.parse(localStorage.getItem("carrinho") || "[]");
      cartCountEl.textContent = carrinho.length;
      cartCountEl.style.display = carrinho.length > 0 ? "inline-block" : "none";
    }

    // === Renderiza carrinho no modal ===
    function renderCarrinho() {
      const carrinho = JSON.parse(localStorage.getItem("carrinho") || "[]");
      carrinhoItensEl.innerHTML = "";
      let subtotal = 0;

      if (carrinho.length === 0) {
        carrinhoItensEl.innerHTML = '<p class="text-muted text-center mb-0">O carrinho est√° vazio.</p>';
      } else {
        carrinho.forEach((item, index) => {
          subtotal += item.preco;
          carrinhoItensEl.innerHTML += `
            <div class="d-flex align-items-center justify-content-between mb-3">
              <div class="d-flex align-items-center">
                <img src="${item.imagem}" class="rounded-4 me-3" style="width:70px;height:70px;object-fit:cover;">
                <div>
                  <h6 class="fw-bold mb-1">${item.nome}</h6>
                  <small class="text-muted">Tamanho: ${item.tamanho}</small>
                  <p class="fw-semibold mb-0">‚Ç¨${item.preco.toFixed(2)}</p>
                </div>
              </div>
              <button class="btn btn-sm btn-outline-danger rounded-pill" data-index="${index}">
                <i class="bi bi-x-lg"></i>
              </button>
            </div>`;
        });
      }

      subtotalEl.textContent = subtotal.toFixed(2);
    }

    // === Adiciona produto ao carrinho ===
    btnAdd.addEventListener("click", () => {
      const produto = {
        nome: btnAdd.dataset.produto,
        preco: parseFloat(btnAdd.dataset.preco),
        imagem: btnAdd.dataset.imagem,
        tamanho: document.querySelector("#tamanhoSelect").value
      };

      let carrinho = JSON.parse(localStorage.getItem("carrinho") || "[]");
      carrinho.push(produto);
      localStorage.setItem("carrinho", JSON.stringify(carrinho));

      atualizarContador();
      renderCarrinho();

      Swal.fire({
        icon: "success",
        title: "Adicionado ao Carrinho!",
        text: `${produto.nome} foi adicionado com sucesso üåø`,
        confirmButtonColor: "#adff2f"
      });
    });

    // === Remover item ===
    document.addEventListener("click", e => {
      if (e.target.closest(".btn-outline-danger")) {
        const index = e.target.closest("button").getAttribute("data-index");
        let carrinho = JSON.parse(localStorage.getItem("carrinho") || "[]");
        carrinho.splice(index, 1);
        localStorage.setItem("carrinho", JSON.stringify(carrinho));
        renderCarrinho();
        atualizarContador();
      }
    });

    // === Finalizar Compra ===
    document.getElementById("btnFinalizarCompra").addEventListener("click", () => {
      const carrinho = JSON.parse(localStorage.getItem("carrinho") || "[]");
      if (carrinho.length === 0) {
        Swal.fire({ icon: "warning", title: "Carrinho vazio!", text: "Adicione produtos antes de finalizar." });
        return;
      }
      window.location.href = "checkout.html";
    });

    // Inicializa
    atualizarContador();
    renderCarrinho();


    const stars = document.querySelectorAll('#ratingStars i');
  let selectedRating = 0;

  stars.forEach(star => {
    star.addEventListener('mouseover', () => {
      stars.forEach(s => s.classList.replace('bi-star-fill', 'bi-star'));
      for (let i = 0; i < star.dataset.value; i++) {
        stars[i].classList.replace('bi-star', 'bi-star-fill');
      }
    });

    star.addEventListener('click', () => {
      selectedRating = star.dataset.value;
    });

    star.addEventListener('mouseleave', () => {
      stars.forEach((s, i) => {
        s.classList.toggle('bi-star-fill', i < selectedRating);
        s.classList.toggle('bi-star', i >= selectedRating);
      });
    });
  });

  // ‚úçÔ∏è Submiss√£o da cr√≠tica
  document.getElementById('reviewForm').addEventListener('submit', e => {
    e.preventDefault();
    const nome = document.getElementById('nome').value.trim();
    const comentario = document.getElementById('comentario').value.trim();

    if (!nome || !comentario || selectedRating === 0) {
      Swal.fire({
        icon: 'warning',
        title: 'Oops...',
        text: 'Por favor preenche todos os campos e escolhe uma avalia√ß√£o!',
        confirmButtonColor: '#adff2f'
      });
      return;
    }

    Swal.fire({
      icon: 'success',
      title: 'Avalia√ß√£o enviada!',
      text: 'Obrigado pela tua partilha üåø',
      confirmButtonColor: '#adff2f'
    });

    e.target.reset();
    selectedRating = 0;
    stars.forEach(s => s.classList.replace('bi-star-fill', 'bi-star'));
  });
  </script>
</body>
</html>
